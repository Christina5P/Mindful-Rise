{% extends 'base.html' %}
{%block title%}category_search{% endblock%}


{% load static %}
{% load crispy_forms_tags %}



{% block page_content %}
{% block content %}

  <h1>Category: {{ query }}</h1>

  <!-- Search form-->
   <div class=""container-fluid>
    <div class="row">
      <category class =mt-auto py-3 dark-bg>
      </category>
      
      {% for category in categories %}
      
   </div>

  <form method="GET" action="{% url 'category_search' %}" class="mb-4">
    <div class="input-group">
        <input type="text" name="q" class="form-control" placeholder="Search categories..." aria-label="Search categories" value="{{ request.GET.q }}">
        <button class="btn btn-primary" type="submit">Search</button>
    </div>
</form>

 
      <div class="col-md-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">{{ category.name }}</h5>
            <p class="card-text">{{ category.description }}</p>
            <a href="{% url 'blog_category' category.name %}" class="btn btn-primary">View Posts</a>
          </div>
        </div>
      </div> 
       {% empty %}
      <p>No categories found.</p>
      {% endfor %}
  </div>
  {% endblock %}

 
{% block extras %}
{% endblock %}